{
    "nodes": [
        {
            "id": 38,
            "type": "CLIPLoader",
            "pos": [
                -80,
                284
            ],
            "size": [
                390,
                106
            ],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "clip_name",
                    "name": "clip_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "clip_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "type",
                    "name": "type",
                    "type": "COMBO",
                    "widget": {
                        "name": "type"
                    },
                    "link": null
                },
                {
                    "localized_name": "device",
                    "name": "device",
                    "shape": 7,
                    "type": "COMBO",
                    "widget": {
                        "name": "device"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CLIP",
                    "name": "CLIP",
                    "type": "CLIP",
                    "slot_index": 0,
                    "links": [
                        74,
                        75
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "CLIPLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                        "directory": "text_encoders"
                    }
                ]
            },
            "widgets_values": [
                "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                "wan",
                "default"
            ]
        },
        {
            "id": 80,
            "type": "VAEDecode",
            "pos": [
                2470,
                170
            ],
            "size": [
                210,
                46
            ],
            "flags": {},
            "order": 55,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "samples",
                    "name": "samples",
                    "type": "LATENT",
                    "link": 271
                },
                {
                    "localized_name": "vae",
                    "name": "vae",
                    "type": "VAE",
                    "link": 285
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        286
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "VAEDecode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": []
        },
        {
            "id": 39,
            "type": "VAELoader",
            "pos": [
                -80,
                442
            ],
            "size": [
                390,
                60
            ],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "vae_name",
                    "name": "vae_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "vae_name"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "VAE",
                    "name": "VAE",
                    "type": "VAE",
                    "slot_index": 0,
                    "links": [
                        281,
                        282,
                        283,
                        284,
                        285
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "VAELoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wan_2.1_vae.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
                        "directory": "vae"
                    }
                ]
            },
            "widgets_values": [
                "wan_2.1_vae.safetensors"
            ]
        },
        {
            "id": 57,
            "type": "AudioEncoderLoader",
            "pos": [
                -80,
                554
            ],
            "size": [
                390,
                70
            ],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "audio_encoder_name",
                    "name": "audio_encoder_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "audio_encoder_name"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO_ENCODER",
                    "name": "AUDIO_ENCODER",
                    "type": "AUDIO_ENCODER",
                    "links": [
                        120
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "AudioEncoderLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wav2vec2_large_english_fp16.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/audio_encoders/wav2vec2_large_english_fp16.safetensors",
                        "directory": "audio_encoders"
                    }
                ]
            },
            "widgets_values": [
                "wav2vec2_large_english_fp16.safetensors"
            ]
        },
        {
            "id": 93,
            "type": "WanSoundImageToVideo",
            "pos": [
                870,
                290
            ],
            "size": [
                270,
                250
            ],
            "flags": {},
            "order": 41,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 254
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 255
                },
                {
                    "localized_name": "vae",
                    "name": "vae",
                    "type": "VAE",
                    "link": 281
                },
                {
                    "localized_name": "audio_encoder_output",
                    "name": "audio_encoder_output",
                    "shape": 7,
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 253
                },
                {
                    "localized_name": "ref_image",
                    "name": "ref_image",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": 252
                },
                {
                    "localized_name": "control_video",
                    "name": "control_video",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "localized_name": "ref_motion",
                    "name": "ref_motion",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "localized_name": "width",
                    "name": "width",
                    "type": "INT",
                    "widget": {
                        "name": "width"
                    },
                    "link": null
                },
                {
                    "localized_name": "height",
                    "name": "height",
                    "type": "INT",
                    "widget": {
                        "name": "height"
                    },
                    "link": null
                },
                {
                    "localized_name": "length",
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 335
                },
                {
                    "localized_name": "batch_size",
                    "name": "batch_size",
                    "type": "INT",
                    "widget": {
                        "name": "batch_size"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "links": [
                        257
                    ]
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "links": [
                        258
                    ]
                },
                {
                    "localized_name": "latent",
                    "name": "latent",
                    "type": "LATENT",
                    "links": [
                        259
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "WanSoundImageToVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                640,
                640,
                77,
                1
            ]
        },
        {
            "id": 54,
            "type": "ModelSamplingSD3",
            "pos": [
                890,
                160
            ],
            "size": [
                250,
                60
            ],
            "flags": {},
            "order": 40,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 363
                },
                {
                    "localized_name": "shift",
                    "name": "shift",
                    "type": "FLOAT",
                    "widget": {
                        "name": "shift"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "MODEL",
                    "name": "MODEL",
                    "type": "MODEL",
                    "slot_index": 0,
                    "links": [
                        111,
                        188,
                        201,
                        210
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "ModelSamplingSD3",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                8
            ]
        },
        {
            "id": 96,
            "type": "ImageFromBatch",
            "pos": [
                2730,
                170
            ],
            "size": [
                210,
                82
            ],
            "flags": {},
            "order": 57,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "image",
                    "name": "image",
                    "type": "IMAGE",
                    "link": 286
                },
                {
                    "localized_name": "batch_index",
                    "name": "batch_index",
                    "type": "INT",
                    "widget": {
                        "name": "batch_index"
                    },
                    "link": 287
                },
                {
                    "localized_name": "length",
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        273
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "ImageFromBatch",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                0,
                4096
            ]
        },
        {
            "id": 95,
            "type": "LatentConcat",
            "pos": [
                2470,
                260
            ],
            "size": [
                210,
                78
            ],
            "flags": {},
            "order": 53,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "samples1",
                    "name": "samples1",
                    "type": "LATENT",
                    "link": 269
                },
                {
                    "localized_name": "samples2",
                    "name": "samples2",
                    "type": "LATENT",
                    "link": 280
                },
                {
                    "localized_name": "dim",
                    "name": "dim",
                    "type": "COMBO",
                    "widget": {
                        "name": "dim"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        271
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LatentConcat",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "t"
            ]
        },
        {
            "id": 94,
            "type": "LatentCut",
            "pos": [
                2470,
                380
            ],
            "size": [
                210,
                106
            ],
            "flags": {},
            "order": 51,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "samples",
                    "name": "samples",
                    "type": "LATENT",
                    "link": 279
                },
                {
                    "localized_name": "dim",
                    "name": "dim",
                    "type": "COMBO",
                    "widget": {
                        "name": "dim"
                    },
                    "link": null
                },
                {
                    "localized_name": "index",
                    "name": "index",
                    "type": "INT",
                    "widget": {
                        "name": "index"
                    },
                    "link": null
                },
                {
                    "localized_name": "amount",
                    "name": "amount",
                    "type": "INT",
                    "widget": {
                        "name": "amount"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        269
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LatentCut",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "t",
                0,
                1
            ]
        },
        {
            "id": 6,
            "type": "CLIPTextEncode",
            "pos": [
                370,
                190
            ],
            "size": [
                422.84503173828125,
                164.31304931640625
            ],
            "flags": {},
            "order": 31,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "clip",
                    "name": "clip",
                    "type": "CLIP",
                    "link": 74
                },
                {
                    "localized_name": "text",
                    "name": "text",
                    "type": "STRING",
                    "widget": {
                        "name": "text"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CONDITIONING",
                    "name": "CONDITIONING",
                    "type": "CONDITIONING",
                    "slot_index": 0,
                    "links": [
                        190,
                        202,
                        211,
                        254
                    ]
                }
            ],
            "title": "CLIP Text Encode (Positive Prompt)",
            "properties": {
                "Node name for S&R": "CLIPTextEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "{{PLACEHOLDER_POSITIVE_PROMPT}}"
            ],
            "color": "#232",
            "bgcolor": "#353"
        },
        {
            "id": 99,
            "type": "Note",
            "pos": [
                2720,
                320
            ],
            "size": [
                220,
                90
            ],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
                "Stupid hack to fix the first frame being overbaked by the VAE, double the first frame and remove it after decoding."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 85,
            "type": "866cdb67-cb97-4a54-8738-e9ece4f5f25f",
            "pos": [
                1820,
                190
            ],
            "size": [
                280,
                318
            ],
            "flags": {},
            "order": 47,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 201
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 202
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 203
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 283
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 207
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 206
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 262
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 317
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 350
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 333
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        216
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                250,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 104,
            "type": "PrimitiveInt",
            "pos": [
                420,
                880
            ],
            "size": [
                306.36004638671875,
                82
            ],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        332,
                        333,
                        334,
                        335
                    ]
                }
            ],
            "title": "Chunk Length",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                77,
                "fixed"
            ]
        },
        {
            "id": 82,
            "type": "CreateVideo",
            "pos": [
                2430,
                570
            ],
            "size": [
                270,
                80
            ],
            "flags": {},
            "order": 59,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "images",
                    "name": "images",
                    "type": "IMAGE",
                    "link": 273
                },
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "shape": 7,
                    "type": "AUDIO",
                    "link": 198
                },
                {
                    "localized_name": "fps",
                    "name": "fps",
                    "type": "FLOAT",
                    "widget": {
                        "name": "fps"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "VIDEO",
                    "name": "VIDEO",
                    "type": "VIDEO",
                    "links": [
                        364
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "CreateVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                16
            ]
        },
        {
            "id": 113,
            "type": "SaveVideo",
            "pos": [
                1500,
                720
            ],
            "size": [
                1250,
                690
            ],
            "flags": {},
            "order": 61,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "video",
                    "name": "video",
                    "type": "VIDEO",
                    "link": 364
                },
                {
                    "localized_name": "filename_prefix",
                    "name": "filename_prefix",
                    "type": "STRING",
                    "widget": {
                        "name": "filename_prefix"
                    },
                    "link": null
                },
                {
                    "localized_name": "format",
                    "name": "format",
                    "type": "COMBO",
                    "widget": {
                        "name": "format"
                    },
                    "link": null
                },
                {
                    "localized_name": "codec",
                    "name": "codec",
                    "type": "COMBO",
                    "widget": {
                        "name": "codec"
                    },
                    "link": null
                }
            ],
            "outputs": [],
            "properties": {
                "Node name for S&R": "SaveVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "video/ComfyUI",
                "auto",
                "auto"
            ]
        },
        {
            "id": 100,
            "type": "PrimitiveInt",
            "pos": [
                420,
                740
            ],
            "size": [
                306.36004638671875,
                90
            ],
            "flags": {
                "collapsed": false
            },
            "order": 5,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        287
                    ]
                }
            ],
            "title": "Batch sizes",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                3,
                "fixed"
            ]
        },
        {
            "id": 145,
            "type": "MarkdownNote",
            "pos": [
                770,
                740
            ],
            "size": [
                300,
                320
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Batch sizes",
            "properties": {},
            "widgets_values": [
                "## Batch sizes\nBatch sizes depend on how many Video S2V Extend subgraphs you have added to the workflow.\n\nEach Video S2V Extend subgraph will add 77 frames to the final output.\n\nExample:\n\nIf you added 1 Video S2V Extend subgraph, you should set the batch size to 2.\n\nWe added 2 Video S2V Extend subgraphs, so the batch size value is 3.\n\n## Chunk length\n\n77 is the default length from the WAN2.2S2V official code. This model needs at least 73 frames. If you set the value too high, it might cause an out-of-memory issue.\n\nSo you can just leave 77 as it is."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 79,
            "type": "ad3f1d6b-f6de-4f22-abcf-caeed4bf8ce4",
            "pos": [
                1520,
                190
            ],
            "size": [
                280,
                318
            ],
            "flags": {},
            "order": 45,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 188
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 190
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 191
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 282
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 189
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 193
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 261
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 316
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 349
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 332
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        207
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                1,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 56,
            "type": "AudioEncoderEncode",
            "pos": [
                1130,
                740
            ],
            "size": [
                285.087890625,
                46
            ],
            "flags": {},
            "order": 38,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "audio_encoder",
                    "name": "audio_encoder",
                    "type": "AUDIO_ENCODER",
                    "link": 120
                },
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "type": "AUDIO",
                    "link": 121
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO_ENCODER_OUTPUT",
                    "name": "AUDIO_ENCODER_OUTPUT",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "links": [
                        193,
                        206,
                        215,
                        253
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "AudioEncoderEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": []
        },
        {
            "id": 87,
            "type": "92cfa20b-adb6-4f00-8596-f14b534cf926",
            "pos": [
                2140,
                190
            ],
            "size": [
                245.37460327148438,
                318
            ],
            "flags": {},
            "order": 49,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 210
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 211
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 212
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 284
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 216
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 215
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 264
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 318
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 351
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 334
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        279,
                        280
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                1,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 111,
            "type": "Note",
            "pos": [
                2060,
                -80
            ],
            "size": [
                350,
                140
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "! Important",
            "properties": {},
            "widgets_values": [
                "If you need longer video output, just select one subgraph below, then use Ctrl+C and Ctrl+Shift+V to copy and paste the Video S2V Extend subgraph. Each of them will extend the other frames you set to the chunk length; by default, it's 77 frames."
            ],
            "color": "#322",
            "bgcolor": "#533"
        },
        {
            "id": 107,
            "type": "LoraLoaderModelOnly",
            "pos": [
                430,
                -40
            ],
            "size": [
                300,
                90
            ],
            "flags": {},
            "order": 36,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 362
                },
                {
                    "localized_name": "lora_name",
                    "name": "lora_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "lora_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "strength_model",
                    "name": "strength_model",
                    "type": "FLOAT",
                    "widget": {
                        "name": "strength_model"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "MODEL",
                    "name": "MODEL",
                    "type": "MODEL",
                    "links": [
                        363
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LoraLoaderModelOnly",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wan2.2_t2v_lightx2v_4steps_lora_v1.1_high_noise.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/loras/wan2.2_t2v_lightx2v_4steps_lora_v1.1_high_noise.safetensors",
                        "directory": "loras"
                    }
                ]
            },
            "widgets_values": [
                "wan2.2_t2v_lightx2v_4steps_lora_v1.1_high_noise.safetensors",
                1
            ]
        },
        {
            "id": 103,
            "type": "PrimitiveInt",
            "pos": [
                420,
                1050
            ],
            "size": [
                306.36004638671875,
                82
            ],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        316,
                        317,
                        318,
                        319
                    ]
                }
            ],
            "title": "Steps",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                4,
                "fixed"
            ]
        },
        {
            "id": 105,
            "type": "PrimitiveFloat",
            "pos": [
                420,
                1180
            ],
            "size": [
                306.36004638671875,
                58
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "FLOAT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "FLOAT",
                    "name": "FLOAT",
                    "type": "FLOAT",
                    "links": [
                        348,
                        349,
                        350,
                        351
                    ]
                }
            ],
            "title": "CFG",
            "properties": {
                "Node name for S&R": "PrimitiveFloat",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                1
            ]
        },
        {
            "id": 147,
            "type": "CLIPLoader",
            "pos": [
                -80,
                1880
            ],
            "size": [
                390,
                106
            ],
            "flags": {},
            "order": 10,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "clip_name",
                    "name": "clip_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "clip_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "type",
                    "name": "type",
                    "type": "COMBO",
                    "widget": {
                        "name": "type"
                    },
                    "link": null
                },
                {
                    "localized_name": "device",
                    "name": "device",
                    "shape": 7,
                    "type": "COMBO",
                    "widget": {
                        "name": "device"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CLIP",
                    "name": "CLIP",
                    "type": "CLIP",
                    "slot_index": 0,
                    "links": [
                        442,
                        461
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "CLIPLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                        "directory": "text_encoders"
                    }
                ]
            },
            "widgets_values": [
                "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
                "wan",
                "default"
            ]
        },
        {
            "id": 148,
            "type": "VAEDecode",
            "pos": [
                2470,
                1770
            ],
            "size": [
                210,
                46
            ],
            "flags": {},
            "order": 54,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "samples",
                    "name": "samples",
                    "type": "LATENT",
                    "link": 440
                },
                {
                    "localized_name": "vae",
                    "name": "vae",
                    "type": "VAE",
                    "link": 441
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        456
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "VAEDecode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": []
        },
        {
            "id": 149,
            "type": "CLIPTextEncode",
            "pos": [
                370,
                2020
            ],
            "size": [
                425.27801513671875,
                180.6060791015625
            ],
            "flags": {},
            "order": 33,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "clip",
                    "name": "clip",
                    "type": "CLIP",
                    "link": 442
                },
                {
                    "localized_name": "text",
                    "name": "text",
                    "type": "STRING",
                    "widget": {
                        "name": "text"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CONDITIONING",
                    "name": "CONDITIONING",
                    "type": "CONDITIONING",
                    "slot_index": 0,
                    "links": [
                        450,
                        464,
                        477,
                        489
                    ]
                }
            ],
            "title": "CLIP Text Encode (Negative Prompt)",
            "properties": {
                "Node name for S&R": "CLIPTextEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
          "widgets_values": [
            "{{PLACEHOLDER_NEGATIVE_PROMPT}}"
          ],
            "color": "#223",
            "bgcolor": "#335"
        },
        {
            "id": 150,
            "type": "VAELoader",
            "pos": [
                -80,
                2040
            ],
            "size": [
                390,
                60
            ],
            "flags": {},
            "order": 11,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "vae_name",
                    "name": "vae_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "vae_name"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "VAE",
                    "name": "VAE",
                    "type": "VAE",
                    "slot_index": 0,
                    "links": [
                        441,
                        451,
                        465,
                        478,
                        490
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "VAELoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wan_2.1_vae.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
                        "directory": "vae"
                    }
                ]
            },
            "widgets_values": [
                "wan_2.1_vae.safetensors"
            ]
        },
        {
            "id": 151,
            "type": "AudioEncoderLoader",
            "pos": [
                -80,
                2150
            ],
            "size": [
                390,
                70
            ],
            "flags": {},
            "order": 12,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "audio_encoder_name",
                    "name": "audio_encoder_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "audio_encoder_name"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO_ENCODER",
                    "name": "AUDIO_ENCODER",
                    "type": "AUDIO_ENCODER",
                    "links": [
                        485
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "AudioEncoderLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wav2vec2_large_english_fp16.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/audio_encoders/wav2vec2_large_english_fp16.safetensors",
                        "directory": "audio_encoders"
                    }
                ]
            },
            "widgets_values": [
                "wav2vec2_large_english_fp16.safetensors"
            ]
        },
        {
            "id": 152,
            "type": "KSampler",
            "pos": [
                1160,
                1750
            ],
            "size": [
                280,
                440
            ],
            "flags": {},
            "order": 42,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 443
                },
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 444
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 445
                },
                {
                    "localized_name": "latent_image",
                    "name": "latent_image",
                    "type": "LATENT",
                    "link": 446
                },
                {
                    "localized_name": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "localized_name": "steps",
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 447
                },
                {
                    "localized_name": "cfg",
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 448
                },
                {
                    "localized_name": "sampler_name",
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "scheduler",
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "localized_name": "denoise",
                    "name": "denoise",
                    "type": "FLOAT",
                    "widget": {
                        "name": "denoise"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "slot_index": 0,
                    "links": [
                        479
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "KSampler",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                20,
                "fixed",
                10,
                6,
                "uni_pc",
                "simple",
                1
            ]
        },
        {
            "id": 153,
            "type": "WanSoundImageToVideo",
            "pos": [
                870,
                1890
            ],
            "size": [
                270,
                250
            ],
            "flags": {},
            "order": 39,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 449
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 450
                },
                {
                    "localized_name": "vae",
                    "name": "vae",
                    "type": "VAE",
                    "link": 451
                },
                {
                    "localized_name": "audio_encoder_output",
                    "name": "audio_encoder_output",
                    "shape": 7,
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 452
                },
                {
                    "localized_name": "ref_image",
                    "name": "ref_image",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": 453
                },
                {
                    "localized_name": "control_video",
                    "name": "control_video",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "localized_name": "ref_motion",
                    "name": "ref_motion",
                    "shape": 7,
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "localized_name": "width",
                    "name": "width",
                    "type": "INT",
                    "widget": {
                        "name": "width"
                    },
                    "link": null
                },
                {
                    "localized_name": "height",
                    "name": "height",
                    "type": "INT",
                    "widget": {
                        "name": "height"
                    },
                    "link": null
                },
                {
                    "localized_name": "length",
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 454
                },
                {
                    "localized_name": "batch_size",
                    "name": "batch_size",
                    "type": "INT",
                    "widget": {
                        "name": "batch_size"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "links": [
                        444
                    ]
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "links": [
                        445
                    ]
                },
                {
                    "localized_name": "latent",
                    "name": "latent",
                    "type": "LATENT",
                    "links": [
                        446
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "WanSoundImageToVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                640,
                640,
                77,
                1
            ]
        },
        {
            "id": 154,
            "type": "ModelSamplingSD3",
            "pos": [
                890,
                1760
            ],
            "size": [
                250,
                60
            ],
            "flags": {},
            "order": 37,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 498
                },
                {
                    "localized_name": "shift",
                    "name": "shift",
                    "type": "FLOAT",
                    "widget": {
                        "name": "shift"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "MODEL",
                    "name": "MODEL",
                    "type": "MODEL",
                    "slot_index": 0,
                    "links": [
                        443,
                        462,
                        475,
                        487
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "ModelSamplingSD3",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                8
            ]
        },
        {
            "id": 155,
            "type": "ImageFromBatch",
            "pos": [
                2730,
                1770
            ],
            "size": [
                210,
                82
            ],
            "flags": {},
            "order": 56,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "image",
                    "name": "image",
                    "type": "IMAGE",
                    "link": 456
                },
                {
                    "localized_name": "batch_index",
                    "name": "batch_index",
                    "type": "INT",
                    "widget": {
                        "name": "batch_index"
                    },
                    "link": 457
                },
                {
                    "localized_name": "length",
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        472
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "ImageFromBatch",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                0,
                4096
            ]
        },
        {
            "id": 156,
            "type": "LatentConcat",
            "pos": [
                2470,
                1860
            ],
            "size": [
                210,
                78
            ],
            "flags": {},
            "order": 52,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "samples1",
                    "name": "samples1",
                    "type": "LATENT",
                    "link": 458
                },
                {
                    "localized_name": "samples2",
                    "name": "samples2",
                    "type": "LATENT",
                    "link": 459
                },
                {
                    "localized_name": "dim",
                    "name": "dim",
                    "type": "COMBO",
                    "widget": {
                        "name": "dim"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        440
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LatentConcat",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "t"
            ]
        },
        {
            "id": 157,
            "type": "LatentCut",
            "pos": [
                2470,
                1980
            ],
            "size": [
                210,
                106
            ],
            "flags": {},
            "order": 50,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "samples",
                    "name": "samples",
                    "type": "LATENT",
                    "link": 460
                },
                {
                    "localized_name": "dim",
                    "name": "dim",
                    "type": "COMBO",
                    "widget": {
                        "name": "dim"
                    },
                    "link": null
                },
                {
                    "localized_name": "index",
                    "name": "index",
                    "type": "INT",
                    "widget": {
                        "name": "index"
                    },
                    "link": null
                },
                {
                    "localized_name": "amount",
                    "name": "amount",
                    "type": "INT",
                    "widget": {
                        "name": "amount"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        458
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LatentCut",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "t",
                0,
                1
            ]
        },
        {
            "id": 159,
            "type": "CLIPTextEncode",
            "pos": [
                370,
                1790
            ],
            "size": [
                422.84503173828125,
                164.31304931640625
            ],
            "flags": {},
            "order": 34,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "clip",
                    "name": "clip",
                    "type": "CLIP",
                    "link": 461
                },
                {
                    "localized_name": "text",
                    "name": "text",
                    "type": "STRING",
                    "widget": {
                        "name": "text"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CONDITIONING",
                    "name": "CONDITIONING",
                    "type": "CONDITIONING",
                    "slot_index": 0,
                    "links": [
                        449,
                        463,
                        476,
                        488
                    ]
                }
            ],
            "title": "CLIP Text Encode (Positive Prompt)",
            "properties": {
                "Node name for S&R": "CLIPTextEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
          "widgets_values": [
            "{{PLACEHOLDER_POSITIVE_PROMPT}}"
          ],
            "color": "#232",
            "bgcolor": "#353"
        },
        {
            "id": 160,
            "type": "LoadImage",
            "pos": [
                -60,
                2540
            ],
            "size": [
                360,
                314
            ],
            "flags": {},
            "order": 13,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "image",
                    "name": "image",
                    "type": "COMBO",
                    "widget": {
                        "name": "image"
                    },
                    "link": null
                },
                {
                    "localized_name": "choose file to upload",
                    "name": "upload",
                    "type": "IMAGEUPLOAD",
                    "widget": {
                        "name": "upload"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "slot_index": 0,
                    "links": [
                        453,
                        468,
                        481,
                        493
                    ]
                },
                {
                    "localized_name": "MASK",
                    "name": "MASK",
                    "type": "MASK",
                    "slot_index": 1,
                    "links": null
                }
            ],
            "properties": {
                "Node name for S&R": "LoadImage",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "ComfyUI_00031_.png",
                "image"
            ]
        },
        {
            "id": 162,
            "type": "LoadAudio",
            "pos": [
                -60,
                2350
            ],
            "size": [
                360,
                140
            ],
            "flags": {},
            "order": 14,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "type": "COMBO",
                    "widget": {
                        "name": "audio"
                    },
                    "link": null
                },
                {
                    "localized_name": "audioUI",
                    "name": "audioUI",
                    "type": "AUDIO_UI",
                    "widget": {
                        "name": "audioUI"
                    },
                    "link": null
                },
                {
                    "localized_name": "choose file to upload",
                    "name": "upload",
                    "type": "AUDIOUPLOAD",
                    "widget": {
                        "name": "upload"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO",
                    "name": "AUDIO",
                    "type": "AUDIO",
                    "links": [
                        473,
                        486
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LoadAudio",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "music.MP3",
                null,
                null
            ]
        },
        {
            "id": 163,
            "type": "Note",
            "pos": [
                2720,
                1920
            ],
            "size": [
                220,
                90
            ],
            "flags": {},
            "order": 15,
            "mode": 4,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
                "Stupid hack to fix the first frame being overbaked by the VAE, double the first frame and remove it after decoding."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 165,
            "type": "d7670b5a-34e9-40f6-ac84-ec52996e52f3",
            "pos": [
                1820,
                1790
            ],
            "size": [
                280,
                318
            ],
            "flags": {},
            "order": 46,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 462
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 463
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 464
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 465
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 466
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 467
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 468
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 469
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 470
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 471
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        491
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                250,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 166,
            "type": "PrimitiveInt",
            "pos": [
                420,
                2480
            ],
            "size": [
                306.36004638671875,
                82
            ],
            "flags": {},
            "order": 16,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        454,
                        471,
                        484,
                        496
                    ]
                }
            ],
            "title": "Chunk Length",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                77,
                "fixed"
            ]
        },
        {
            "id": 167,
            "type": "CreateVideo",
            "pos": [
                2430,
                2170
            ],
            "size": [
                270,
                80
            ],
            "flags": {},
            "order": 58,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "images",
                    "name": "images",
                    "type": "IMAGE",
                    "link": 472
                },
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "shape": 7,
                    "type": "AUDIO",
                    "link": 473
                },
                {
                    "localized_name": "fps",
                    "name": "fps",
                    "type": "FLOAT",
                    "widget": {
                        "name": "fps"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "VIDEO",
                    "name": "VIDEO",
                    "type": "VIDEO",
                    "links": [
                        474
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "CreateVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                16
            ]
        },
        {
            "id": 169,
            "type": "PrimitiveInt",
            "pos": [
                420,
                2340
            ],
            "size": [
                306.36004638671875,
                90
            ],
            "flags": {
                "collapsed": false
            },
            "order": 17,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        457
                    ]
                }
            ],
            "title": "Batch sizes",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                3,
                "fixed"
            ]
        },
        {
            "id": 171,
            "type": "MarkdownNote",
            "pos": [
                770,
                2340
            ],
            "size": [
                300,
                320
            ],
            "flags": {},
            "order": 18,
            "mode": 4,
            "inputs": [],
            "outputs": [],
            "title": "Batch sizes",
            "properties": {},
            "widgets_values": [
                "## Batch sizes\nBatch sizes depend on how many Video S2V Extend subgraphs you have added to the workflow.\n\nEach Video S2V Extend subgraph will add 77 frames to the final output.\n\nExample:\n\nIf you added 1 Video S2V Extend subgraph, you should set the batch size to 2.\n\nWe added 2 Video S2V Extend subgraphs, so the batch size value is 3.\n\n## Chunk length\n\n77 is the default length from the WAN2.2S2V official code. This model needs at least 73 frames. If you set the value too high, it might cause an out-of-memory issue.\n\nSo you can just leave 77 as it is."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 172,
            "type": "bdee126d-2d92-4d01-9e74-9118a9d609c5",
            "pos": [
                1520,
                1790
            ],
            "size": [
                280,
                318
            ],
            "flags": {},
            "order": 44,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 475
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 476
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 477
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 478
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 479
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 480
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 481
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 482
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 483
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 484
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        466
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                1,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 173,
            "type": "AudioEncoderEncode",
            "pos": [
                1130,
                2340
            ],
            "size": [
                285.087890625,
                46
            ],
            "flags": {},
            "order": 35,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "audio_encoder",
                    "name": "audio_encoder",
                    "type": "AUDIO_ENCODER",
                    "link": 485
                },
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "type": "AUDIO",
                    "link": 486
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO_ENCODER_OUTPUT",
                    "name": "AUDIO_ENCODER_OUTPUT",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "links": [
                        452,
                        467,
                        480,
                        492
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "AudioEncoderEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": []
        },
        {
            "id": 168,
            "type": "SaveVideo",
            "pos": [
                1500,
                2320
            ],
            "size": [
                1250,
                690
            ],
            "flags": {},
            "order": 60,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "video",
                    "name": "video",
                    "type": "VIDEO",
                    "link": 474
                },
                {
                    "localized_name": "filename_prefix",
                    "name": "filename_prefix",
                    "type": "STRING",
                    "widget": {
                        "name": "filename_prefix"
                    },
                    "link": null
                },
                {
                    "localized_name": "format",
                    "name": "format",
                    "type": "COMBO",
                    "widget": {
                        "name": "format"
                    },
                    "link": null
                },
                {
                    "localized_name": "codec",
                    "name": "codec",
                    "type": "COMBO",
                    "widget": {
                        "name": "codec"
                    },
                    "link": null
                }
            ],
            "outputs": [],
            "properties": {
                "Node name for S&R": "SaveVideo",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "video/ComfyUI",
                "auto",
                "auto"
            ]
        },
        {
            "id": 177,
            "type": "PrimitiveInt",
            "pos": [
                420,
                2650
            ],
            "size": [
                306.36004638671875,
                82
            ],
            "flags": {},
            "order": 19,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "INT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "INT",
                    "name": "INT",
                    "type": "INT",
                    "links": [
                        447,
                        469,
                        482,
                        494
                    ]
                }
            ],
            "title": "Steps",
            "properties": {
                "Node name for S&R": "PrimitiveInt",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                20,
                "fixed"
            ]
        },
        {
            "id": 178,
            "type": "PrimitiveFloat",
            "pos": [
                420,
                2780
            ],
            "size": [
                306.36004638671875,
                58
            ],
            "flags": {},
            "order": 20,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "value",
                    "name": "value",
                    "type": "FLOAT",
                    "widget": {
                        "name": "value"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "FLOAT",
                    "name": "FLOAT",
                    "type": "FLOAT",
                    "links": [
                        448,
                        470,
                        483,
                        495
                    ]
                }
            ],
            "title": "CFG",
            "properties": {
                "Node name for S&R": "PrimitiveFloat",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                6
            ]
        },
        {
            "id": 144,
            "type": "MarkdownNote",
            "pos": [
                770,
                1140
            ],
            "size": [
                280,
                110
            ],
            "flags": {},
            "order": 21,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Sampler settings",
            "properties": {},
            "widgets_values": [
                "| model            | Steps | cfg |\n|---------------------|---------------|---------------|\n| With 4 steps lightning LoRA            | 4                | 1.0               |\n| Without 4 Steps lightning LoRA    | 20               | 6.0               |\n"
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 170,
            "type": "MarkdownNote",
            "pos": [
                770,
                2740
            ],
            "size": [
                280,
                110
            ],
            "flags": {},
            "order": 22,
            "mode": 4,
            "inputs": [],
            "outputs": [],
            "title": "Sampler settings",
            "properties": {},
            "widgets_values": [
                "| model            | Steps | cfg |\n|---------------------|---------------|---------------|\n| With 4 steps lightning LoRA            | 4                | 1.0               |\n| Without 4 Steps lightning LoRA    | 20               | 6.0               |\n"
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 179,
            "type": "MarkdownNote",
            "pos": [
                -520,
                1710
            ],
            "size": [
                400,
                90
            ],
            "flags": {},
            "order": 23,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "properties": {},
            "widgets_values": [
                "This is the 20-step workflow. We put it here in case some users don't know how to modify the workflow that with Wan2.2 lightning LoRA. If you want to enable it, box-select the workflow and then use Ctrl+B to enable it."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 174,
            "type": "51b3a856-6e10-44f8-94d7-2a92a39c9707",
            "pos": [
                2140,
                1790
            ],
            "size": [
                245.37460327148438,
                318
            ],
            "flags": {},
            "order": 48,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 487
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 488
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 489
                },
                {
                    "name": "vae",
                    "type": "VAE",
                    "link": 490
                },
                {
                    "name": "video_latent",
                    "type": "LATENT",
                    "link": 491
                },
                {
                    "name": "audio_encoder_output",
                    "type": "AUDIO_ENCODER_OUTPUT",
                    "link": 492
                },
                {
                    "name": "ref_image",
                    "type": "IMAGE",
                    "link": 493
                },
                {
                    "name": "control_video",
                    "type": "IMAGE",
                    "link": null
                },
                {
                    "label": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 494
                },
                {
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 495
                },
                {
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "name": "length",
                    "type": "INT",
                    "widget": {
                        "name": "length"
                    },
                    "link": 496
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT",
                    "links": [
                        459,
                        460
                    ]
                }
            ],
            "properties": {
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                1,
                10,
                6,
                "uni_pc",
                "simple",
                77
            ]
        },
        {
            "id": 37,
            "type": "UNETLoader",
            "pos": [
                -80,
                150
            ],
            "size": [
                390,
                82
            ],
            "flags": {},
            "order": 24,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "unet_name",
                    "name": "unet_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "unet_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "weight_dtype",
                    "name": "weight_dtype",
                    "type": "COMBO",
                    "widget": {
                        "name": "weight_dtype"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "MODEL",
                    "name": "MODEL",
                    "type": "MODEL",
                    "slot_index": 0,
                    "links": [
                        362
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "UNETLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wan2.2_s2v_14B_fp8_scaled.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_fp8_scaled.safetensors",
                        "directory": "diffusion_models"
                    }
                ]
            },
            "widgets_values": [
                "wan2.2_s2v_14B_fp8_scaled.safetensors",
                "default"
            ]
        },
        {
            "id": 161,
            "type": "UNETLoader",
            "pos": [
                -80,
                1750
            ],
            "size": [
                390,
                82
            ],
            "flags": {},
            "order": 25,
            "mode": 4,
            "inputs": [
                {
                    "localized_name": "unet_name",
                    "name": "unet_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "unet_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "weight_dtype",
                    "name": "weight_dtype",
                    "type": "COMBO",
                    "widget": {
                        "name": "weight_dtype"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "MODEL",
                    "name": "MODEL",
                    "type": "MODEL",
                    "slot_index": 0,
                    "links": [
                        498
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "UNETLoader",
                "cnr_id": "comfy-core",
                "ver": "0.3.54",
                "models": [
                    {
                        "name": "wan2.2_s2v_14B_fp8_scaled.safetensors",
                        "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_fp8_scaled.safetensors",
                        "directory": "diffusion_models"
                    }
                ]
            },
            "widgets_values": [
                "wan2.2_s2v_14B_fp8_scaled.safetensors",
                "default"
            ]
        },
        {
            "id": 112,
            "type": "Note",
            "pos": [
                390,
                -200
            ],
            "size": [
                380,
                110
            ],
            "flags": {},
            "order": 26,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "About lightning LoRA",
            "properties": {},
            "widgets_values": [
                "Tested all wan2.2 lightning LoRAs; all worked, but many keys didn't match. However, because it reduces generation time a lot, we added this lightning model. If you find the output quality is too bad, you can try the 20 steps workflow without lightning LoRA."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 108,
            "type": "MarkdownNote",
            "pos": [
                -590,
                110
            ],
            "size": [
                480,
                500
            ],
            "flags": {},
            "order": 27,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "Model Links",
            "properties": {},
            "widgets_values": [
                "[Tutorial](https://docs.comfy.org/tutorials/video/wan/wan2-2-s2v\n) | [教程](https://docs.comfy.org/zh-CN/tutorials/video/wan/wan2-2-s2v\n)\n\n**diffusion_models**       \n- [wan2.2_s2v_14B_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_fp8_scaled.safetensors)\n- [wan2.2_s2v_14B_bf16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_bf16.safetensors)\n\n**audio_encoders**\n- [wav2vec2_large_english_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/audio_encoders/wav2vec2_large_english_fp16.safetensors)\n\n**vae**\n- [wan_2.1_vae.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors)\n\n**text_encoders**   \n- [umt5_xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors)\n\n\n```\nComfyUI/\n├───📂 models/\n│   ├───📂 diffusion_models/\n│   │   ├─── wan2.2_s2v_14B_fp8_scaled.safetensors\n│   │   └─── wan2.2_s2v_14B_bf16.safetensors #  The bf16 model will cause less degradation\n│   ├───📂 text_encoders/\n│   │   └─── umt5_xxl_fp8_e4m3fn_scaled.safetensors \n│   ├───📂 audio_encoders/ # Create one if you can't find this folder\n│   │   └─── wav2vec2_large_english_fp16.safetensors \n│   └───📂 vae/\n│       └── wan_2.1_vae.safetensors\n```\n"
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 181,
            "type": "MarkdownNote",
            "pos": [
                -90,
                -60
            ],
            "size": [
                420,
                130
            ],
            "flags": {},
            "order": 28,
            "mode": 0,
            "inputs": [],
            "outputs": [],
            "title": "About fp8_scaled and bf16",
            "properties": {},
            "widgets_values": [
                "You can find both models [Here](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/tree/main/split_files/diffusion_models)\n\n- [wan2.2_s2v_14B_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_fp8_scaled.safetensors)\n- [wan2.2_s2v_14B_bf16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/diffusion_models/wan2.2_s2v_14B_bf16.safetensors)\n\nThis template is using wan2.2_s2v_14B_fp8_scaled.safetensors, which requires less VRAM. But you can try wan2.2_s2v_14B_bf16.safetensors to reduce degradation."
            ],
            "color": "#432",
            "bgcolor": "#653"
        },
        {
            "id": 3,
            "type": "KSampler",
            "pos": [
                1160,
                150
            ],
            "size": [
                280,
                440
            ],
            "flags": {},
            "order": 43,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "model",
                    "name": "model",
                    "type": "MODEL",
                    "link": 111
                },
                {
                    "localized_name": "positive",
                    "name": "positive",
                    "type": "CONDITIONING",
                    "link": 257
                },
                {
                    "localized_name": "negative",
                    "name": "negative",
                    "type": "CONDITIONING",
                    "link": 258
                },
                {
                    "localized_name": "latent_image",
                    "name": "latent_image",
                    "type": "LATENT",
                    "link": 259
                },
                {
                    "localized_name": "seed",
                    "name": "seed",
                    "type": "INT",
                    "widget": {
                        "name": "seed"
                    },
                    "link": null
                },
                {
                    "localized_name": "steps",
                    "name": "steps",
                    "type": "INT",
                    "widget": {
                        "name": "steps"
                    },
                    "link": 319
                },
                {
                    "localized_name": "cfg",
                    "name": "cfg",
                    "type": "FLOAT",
                    "widget": {
                        "name": "cfg"
                    },
                    "link": 348
                },
                {
                    "localized_name": "sampler_name",
                    "name": "sampler_name",
                    "type": "COMBO",
                    "widget": {
                        "name": "sampler_name"
                    },
                    "link": null
                },
                {
                    "localized_name": "scheduler",
                    "name": "scheduler",
                    "type": "COMBO",
                    "widget": {
                        "name": "scheduler"
                    },
                    "link": null
                },
                {
                    "localized_name": "denoise",
                    "name": "denoise",
                    "type": "FLOAT",
                    "widget": {
                        "name": "denoise"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "LATENT",
                    "name": "LATENT",
                    "type": "LATENT",
                    "slot_index": 0,
                    "links": [
                        189
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "KSampler",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                204940660217305,
                "randomize",
                10,
                6,
                "uni_pc",
                "simple",
                1
            ]
        },
        {
            "id": 7,
            "type": "CLIPTextEncode",
            "pos": [
                370,
                420
            ],
            "size": [
                425.27801513671875,
                180.6060791015625
            ],
            "flags": {},
            "order": 32,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "clip",
                    "name": "clip",
                    "type": "CLIP",
                    "link": 75
                },
                {
                    "localized_name": "text",
                    "name": "text",
                    "type": "STRING",
                    "widget": {
                        "name": "text"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "CONDITIONING",
                    "name": "CONDITIONING",
                    "type": "CONDITIONING",
                    "slot_index": 0,
                    "links": [
                        191,
                        203,
                        212,
                        255
                    ]
                }
            ],
            "title": "CLIP Text Encode (Negative Prompt)",
            "properties": {
                "Node name for S&R": "CLIPTextEncode",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
          "widgets_values": [
            "{{PLACEHOLDER_NEGATIVE_PROMPT}}"
          ],
            "color": "#223",
            "bgcolor": "#335"
        },
        {
            "id": 58,
            "type": "LoadAudio",
            "pos": [
                -60,
                750
            ],
            "size": [
                360,
                140
            ],
            "flags": {},
            "order": 29,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "audio",
                    "name": "audio",
                    "type": "COMBO",
                    "widget": {
                        "name": "audio"
                    },
                    "link": null
                },
                {
                    "localized_name": "audioUI",
                    "name": "audioUI",
                    "type": "AUDIO_UI",
                    "widget": {
                        "name": "audioUI"
                    },
                    "link": null
                },
                {
                    "localized_name": "choose file to upload",
                    "name": "upload",
                    "type": "AUDIOUPLOAD",
                    "widget": {
                        "name": "upload"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "AUDIO",
                    "name": "AUDIO",
                    "type": "AUDIO",
                    "links": [
                        121,
                        198
                    ]
                }
            ],
            "properties": {
                "Node name for S&R": "LoadAudio",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "ComfyUI_00005_.mp3",
                null,
                null
            ]
        },
        {
            "id": 52,
            "type": "LoadImage",
            "pos": [
                -60,
                940
            ],
            "size": [
                360,
                314
            ],
            "flags": {},
            "order": 30,
            "mode": 0,
            "inputs": [
                {
                    "localized_name": "image",
                    "name": "image",
                    "type": "COMBO",
                    "widget": {
                        "name": "image"
                    },
                    "link": null
                },
                {
                    "localized_name": "choose file to upload",
                    "name": "upload",
                    "type": "IMAGEUPLOAD",
                    "widget": {
                        "name": "upload"
                    },
                    "link": null
                }
            ],
            "outputs": [
                {
                    "localized_name": "IMAGE",
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "slot_index": 0,
                    "links": [
                        252,
                        261,
                        262,
                        264
                    ]
                },
                {
                    "localized_name": "MASK",
                    "name": "MASK",
                    "type": "MASK",
                    "slot_index": 1,
                    "links": null
                }
            ],
            "properties": {
                "Node name for S&R": "LoadImage",
                "cnr_id": "comfy-core",
                "ver": "0.3.54"
            },
            "widgets_values": [
                "ComfyUI_00024_.png",
                "image"
            ]
        }
    ]
}